<style>
  .file-upload {
    background-color: #ffffff;
    width: 600px;
    margin: 0 auto;
    padding: 10px;
  }

  .file-upload-btn {
    width: 100%;
    margin: 0;
    color: #fff;
    background: #30419b;
    border: none;
    padding: 10px;
    border-radius: 4px;
    border-bottom: 4px solid #30419b;
    transition: all 0.2s ease;
    outline: none;
    text-transform: uppercase;
    font-weight: 700;
  }

  .file-upload-btn:hover {
    background: #30419b;
    color: #ffffff;
    transition: all 0.2s ease;
    cursor: pointer;
  }

  .file-upload-btn:active {
    border: 0;
    transition: all 0.2s ease;
  }

  .file-upload-content {
    display: none;
    text-align: center;
  }

  .file-upload-input {
    position: absolute;
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    cursor: pointer;
  }

  .image-upload-wrap {
    margin-top: 20px;
    border: 4px dashed #30419b;
    position: relative;
  }

  .image-dropping,
  .image-upload-wrap:hover {
    background-color: #30419b;
  }

  .image-title-wrap {
    padding: 0 15px 15px 15px;
    color: #222;
  }

  .drag-text {
    text-align: center;
  }

  .drag-text h3 {
    font-weight: 100;
    text-transform: uppercase;
    color: #000;
    padding: 60px 0;
  }

  .file-upload-image {
    max-height: 300px;
    max-width: 400px;
    margin: auto;
    padding: 20px;
  }

  .remove-image {
    width: 400px;
    margin: 0;
    color: rgb(0, 0, 0);
    background: #30419b;
    border: none;
    padding: 10px;
    border-radius: 4px;
    border-bottom: 4px solid #30419b;
    transition: all 0.2s ease;
    outline: none;
    text-transform: uppercase;
    font-weight: 500;
  }

  .remove-image:hover {
    background: #30419b;
    color: #ffffff;
    transition: all 0.2s ease;
    cursor: pointer;
  }

  .remove-image:active {
    border: 0;
    transition: all 0.2s ease;
  }
</style>


<div class="pt-3 pb-3 pl-3">
    <h4>Tahrirlash</h4>
</div>

            
<div class="modal-body">
    <form action="/course/<%=`${course._id}?_method=PUT`%>" method="POST"  ref='uploadForm' encType="multipart/form-data">
      <div class="mb-3">
        <label for="">category </label>
        <input type="text" name="category" class="form-control" value="<%= course.category%>"  />
      </div>
      <div class="mb-3">
        <label for="">name </label>
        <input type="text" name="name" class="form-control" value="<%= course.name%>"  />
      </div>
      <div class="mb-3">
        <label for="">Tasnifi </label>
        <input type="text" name="description" class="form-control" value="<%= course.description%>"  />
      </div>
      <div class="mb-3">
        <label for="">Davomiyligi </label>
        <input type="text" name="duration" class="form-control" value="<%= course.duration%>"  />
      </div>
      <div class="mb-3">
        <label for="">Narxi </label>
        <input type="text" name="price" class="form-control" value="<%= course.price%>"  />
      </div>
      <div class="mb-3">
        <label for="">Kitoblar soni </label>
        <input type="text" name="books" class="form-control" value="<%= course.books%>"  />
      </div>
      <div class="mb-3">
        <label for="">Bonus </label>
        <input type="text" name="bonus" class="form-control" value="<%= course.bonus%>"  />
      </div>

      <div class="input-group mt-2 mb-2" style="display: flex; flex-direction: column">
        <label for="">O'qituvchini tanlang</label>
        <select name="teachersID" class="form-control"  id="filterTheme">
            <option style="font-weight: bold" value="" >Uztozni tanlang</option>
            <% for (let item of teachers) {%>
            <option value="<%= item._id %>"><%= item.fullname %></option>
            <% } %>
        </select>
        </div>


    <div class="mb-3">
      <div class="input-group mb-3 pb-3 mt-2">
        <div class="file-upload">
          <div class="image-upload-wrap">
            <input name="image"  class="file-upload-input" class="form-control" type="file" onchange="readURL(this);" single />
            <div class="drag-text">
              <h3>Rasm tanlang</h3>
            </div>
          </div>
          <div class="file-upload-content">
            <img class="file-upload-image" src="<%= course.image%>%>" />
            <div class="image-title-wrap">
              <button type="button" onclick="removeUpload()" class="remove-image">
                Remove <span class="image-title">Uploaded Image</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>


      <button type="submit" class="btn btn-primary">Saqlash</button>
    </form>
  </div>
</div>
</div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
<script>
function readURL(input) {
if (input.files && input.files[0]) {
var reader = new FileReader();

reader.onload = function (e) {
  $(".image-upload-wrap").hide();

  $(".file-upload-image").attr("src", e.target.result);
  $(".file-upload-content").show();

  $(".image-title").html(input.files[0].name);
};

reader.readAsDataURL(input.files[0]);
} else {
removeUpload();
}
}

function removeUpload() {
$(".file-upload-input").replaceWith($(".file-upload-input").clone());
$(".file-upload-content").hide();
$(".image-upload-wrap").show();
}
$(".image-upload-wrap").bind("dragover", function () {
$(".image-upload-wrap").addClass("image-dropping");
});
$(".image-upload-wrap").bind("dragleave", function () {
$(".image-upload-wrap").removeClass("image-dropping");
});

</script>